<div class="layui-fluid">
	<div class="layui-row">
		<div class="layui-col-md12 layui-form">
			<div class="layui-card">

				<div class="layui-card-body">
					<table class="layui-hide" id="tabledata" lay-filter="list"></table>
				</div>
			</div>
		</div>
	</div>
	<div class="layui-clear" style="height: 100px;">&nbsp;</div>
</div>
<script type="text/html" id="toolbarDemo">
  <div class="layui-btn-container">
	  <button id="backupdata" lay-event="backupdata" data-url="{:URL('data/export')}" data-title="立即备份" class="layui-btn layui-btn-sm">立即备份</button> 
	  <button lay-event="repair" data-url="{:URL('data/optimize')}" data-title="优化数据表" class="layui-btn layui-btn-sm ">优化数据表</button> 
	  <button lay-event="repair" data-url="{:URL('data/repair')}" data-title="修复数据表" class="layui-btn layui-btn-sm ">修复数据表</button>
	  <a lay-href="{:URL('data/importlist')}" data-title="还原数据库" class="layui-btn layui-btn-sm layui-btn-danger">还原数据库</a>
  </div>
</script>
<script type="text/html" id="backupstatus">
	<span class="info {{d.name}}"></span>
</script>

<script type="text/javascript">
	layui.use(['table', 'layer'], function() {
		var table = layui.table, layer = layui.layer;
		table.render({
			elem: '#tabledata',
			toolbar: '#toolbarDemo', 
			url: "{:URL('data/backuplist')}",
			page: false,
			id: 'tablist',
			cols: [
				[ 
					{ checkbox: true, fixed: true, fixed: 'left' }, 
					{ field: 'name', title: '表名', sort: true }, 
					{ field: 'rows', title: '数据量', width: 120, edit: 'text' }, 
					{ field: 'data_length', title: '数据大小', width: 180}, 
					{ field: 'create_time', title: '创建时间', width: 180 }, 
					{  toolbar: '#backupstatus', title: '备份状态', width: 180}, 

				]
			]
		});
	});
</script>