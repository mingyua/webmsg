<div class="layui-fluid">
  <div class="layui-row layui-col-space15">
    <div class="layui-col-md12">
      <div class="layui-card">
				<div id="demoTable" class="layui-card-header pt-10"> 
					<div class="layui-form pull-right">
						<div class="layui-form-item">							
							<div class="layui-inline"> <button class="layui-btn" lay-href="{:URL('set/add')}" ><i class="layui-icon layui-icon-add-circle"></i>添加项</button> </div>
						</div>
					</div>
				</div>

        <div class="layui-card-body" pad15="">
          
          <div class="layui-form" wid100="" lay-filter="">
						{$list|fieldhtml}
					  <div class="layui-form-item">
					    <div class="layui-input-block">
					      <a class="layui-btn" lay-submit="" lay-filter="submit" data-url="{:URL('set/index')}">确认提交</a>
					    </div>
					  </div>						
          </div>
          
        </div>
      </div>
    </div>
  </div>
  <div class="layui-clear" style="height: 60px;">&nbsp;</div>
</div>
{load href="__MANAGE__/admin.js"}

<script type="text/javascript">
	layui.use(['upload','table'], function(){
  var $ = layui.jquery
  ,table=layui.table
  ,upload = layui.upload;
		 upload.render({
		    elem: '.demoMore'
		    ,before: function(){
		      layer.load(0);
		    }
		    ,done: function(res, index, upload){
		      var item = this.item;		      
		      item.html('<img src="__ROOT__'+res.data+'" height="100px">');
		      item.next('input').next('input').val(res.data);
		      layer.closeAll();
		      console.log(item.next('input').next('input')); //获取当前触发上传的元素，layui 2.1.0 新增
		    }
		 });
		
		
		
		
	});
</script>